:root{
  --bg:#0f172a;
  --card:#111827;
  --text:#e5edff;
  --muted:#9aa5b8;
  --btn-bg:#1f2937;
  --accent:#4f46e5;
}

:root.light{
  --bg:#f3f7ff;
  --card:#ffffff;
  --text:#0f172a;
  --muted:#475569;
  --btn-bg:#e2e8f0;
  --accent:#4f46e5;
}

*{box-sizing:border-box;font-family:"Poppins",sans-serif}

body{
  margin:0;
  height:100vh;
  overflow:hidden;
  background:var(--bg);
  color:var(--text);
  display:flex;
  align-items:center;
  justify-content:center;
}

.theme-toggle{
  position:fixed;
  top:12px; right:12px;
  width:38px; height:38px;
  border:none; border-radius:50%;
  font-size:18px;
  background:var(--card);
  color:var(--text);
  cursor:pointer;
}

.wrapper{
  width:480px;
  max-height:95vh;
}

.calculator{
  background:var(--card);
  padding:12px;
  border-radius:14px;
  height:95vh;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:6px;
}
.title{font-size:16px;font-weight:600}

.mode-btn{
  padding:4px 8px;
  font-size:12px;
  border:none;
  border-radius:6px;
  background:var(--btn-bg);
  color:var(--text);
  cursor:pointer;
}
.mode-btn.active{background:var(--accent);color:white}

.display{
  background:var(--btn-bg);
  padding:10px;
  border-radius:10px;
  margin-bottom:6px;
}
.expression{
  font-size:14px;
  color:var(--muted);
  text-align:right;
  height:18px;
}
.result{
  font-size:24px;
  text-align:right;
  margin-top:4px;
}

/* KEYPADS */
.pad{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:6px;
  margin-bottom:6px;
}
.pad button{
  padding:12px;
  font-size:15px;
  border:none;
  border-radius:8px;
  background:var(--btn-bg);
  color:var(--text);
  cursor:pointer;
}

.scientific button{padding:10px;font-size:13px;}

.op{background:var(--accent) !important;color:white;}
.eq{
  background:linear-gradient(90deg,#10b981,#06b6d4) !important;
  color:white;
}
.wide{grid-column:span 2}

.hidden{display:none}
.toggle{background:#10b981 !important}

/* HISTORY */
.history-box{
  background:var(--btn-bg);
  padding:6px;
  border-radius:8px;
  flex-grow:1;
  overflow:auto;
}

.hist-head{
  display:flex;
  justify-content:space-between;
  margin-bottom:4px;
}
.clearHistBtn{
  background:#ef4444;
  color:white;
  border:none;
  font-size:12px;
  padding:3px 8px;
  border-radius:6px;
}

#historyList{
  list-style:none;
  padding:0;
  margin:0;
}
#historyList li{
  background:rgba(255,255,255,0.05);
  padding:6px;
  margin-bottom:4px;
  border-radius:6px;
  font-size:13px;
  cursor:pointer;
}

/* Perfect fit on mobiles too */
@media(max-width:480px){
  .wrapper{width:95vw;}
  .calculator{height:95vh;}
}
